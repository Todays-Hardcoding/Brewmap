<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<body>
	<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script type="text/javascript">
	function toList(){
		// HTML5의 geolocation으로 사용할 수 있는지 확인합니다 
		if (navigator.geolocation) {
		    // GeoLocation을 이용해서 접속 위치를 얻어옵니다
		    navigator.geolocation.getCurrentPosition(function(position) { 
	        var lat = position.coords.latitude, // 위도
	            lon = position.coords.longitude; // 경도  
	            
	         // 위도, 경도를 Map<String, String> 형식으로 저장
	    	var params = {
    			"lat" : lat,
    			"lon" : lon 
	   		}
	         
	    	console.log(params.lat);
	        console.log(params.lon);
	      
	        document.location.href = "/storeList?lat="+lat+"&lon="+lon;
		});
		} else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다
			alert("geolocation error");
		}	
	};
	</script>
	
	<footer th:fragment="footer" class="footer-basic, footer-container" >
		<ul class="list-inline, footer-social-icons">
			<li class="list-inline-item"><a th:href="@{/index}"><i class="fa-solid fa-house"></i></a></li>
			<li class="list-inline-item"><a onClick="toList()"><i class="fa-solid fa-list"></i></a></li>
			<li class="list-inline-item"><a th:href="@{/chat}"><i class="fa-solid fa-bolt"></i></a></li>
			<li class="list-inline-item"><a th:href="@{/map}"><i class="fa-solid fa-location-dot"></i></a></li>
		</ul>
	</footer>
</body>
</html>